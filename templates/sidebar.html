{% load company_tags %}
<div class="sidebar-header d-none d-lg-block">
    <div class="sidebar-heading d-flex align-items-center justify-content-center py-3 py-md-4">
        <i class="bi bi-cash-coin me-2 fs-4"></i>
        <span class="sidebar-label fw-bold fs-5 text-truncate">{% get_company_name %}</span>
    </div>
    <button type="button" class="btn-close d-md-none position-absolute top-0 end-0 mt-3 me-3" aria-label="Close" id="sidebar-close"></button>
</div>

<!-- <div class="sidebar-user d-flex align-items-center px-3 py-2 mb-3 d-none d-md-block">
    {% if user.is_authenticated %}
    <div class="avatar me-2">
        <i class="bi bi-person-circle fs-4"></i>
    </div>
    <div class="user-info">
        <div class="user-name fw-bold">{{ user.username }}</div>
        <div class="user-role small">{{ user.email }}</div>
    </div>
    {% endif %}
</div> -->

<nav class="list-group list-group-flush my-2 my-md-3">
    <a href="{% url 'index'%}" class="list-group-item list-group-item-action bg-transparent second-text fw-bold d-flex align-items-center {% if request.resolver_match.url_name == 'index' %}active{% endif %}">
        <i class="bi bi-speedometer2 me-2 fs-5"></i><span class="sidebar-label">Dashboard</span>
    </a>
    <a href="{% url 'employee_list'%}" class="list-group-item list-group-item-action bg-transparent second-text fw-bold d-flex align-items-center {% if request.resolver_match.url_name == 'employee_list' %}active{% endif %}">
        <i class="bi bi-people me-2 fs-5"></i><span class="sidebar-label">Employees</span>
    </a>
    <a href="{% url 'payroll'%}" class="list-group-item list-group-item-action bg-transparent second-text fw-bold d-flex align-items-center {% if request.resolver_match.url_name == 'payroll' %}active{% endif %}">
        <i class="bi bi-currency-dollar me-2 fs-5"></i><span class="sidebar-label">Payroll</span>
    </a>
    <a href="#" class="list-group-item list-group-item-action bg-transparent second-text fw-bold d-flex align-items-center">
        <i class="bi bi-calendar-event me-2 fs-5"></i><span class="sidebar-label">Attendance</span>
    </a>
    <a href="{% url 'company_settings' %}" class="list-group-item list-group-item-action bg-transparent second-text fw-bold d-flex align-items-center {% if request.resolver_match.url_name == 'company_settings' %}active{% endif %}">
        <i class="bi bi-card-checklist me-2 fs-5"></i><span class="sidebar-label">Reports</span>
    </a>
    <a href="{% url 'reports' %}" class="list-group-item list-group-item-action bg-transparent second-text fw-bold d-flex align-items-center {% if request.resolver_match.url_name == 'reports' %}active{% endif %}">%}">%}">
        <i class="bi bi-gear me-2 fs-5"></i><span class="sidebar-label">Settings</span>
    </a>
</nav>

<div class="sidebar-footer mt-auto d-none d-lg-block">
    {% if user.is_authenticated %}
    <a href="#" onclick="event.preventDefault(); document.getElementById('sidebar-logout-form').submit();" class="list-group-item list-group-item-action bg-transparent text-danger fw-bold border-0 w-100 text-start d-flex align-items-center">
        <i class="bi bi-box-arrow-left me-2 fs-5"></i><span class="sidebar-label">Logout</span>
    </a>
    <form id="sidebar-logout-form" method="post" action="{% url 'logout' %}" style="display:none;">
        {% csrf_token %}
    </form>
    
    {% else %}
    <a href="{% url 'login' %}" class="list-group-item list-group-item-action bg-transparent second-text fw-bold d-flex align-items-center">
        <i class="bi bi-box-arrow-in-right me-2 fs-5"></i><span class="sidebar-label">Login</span>
    </a>
    {% endif %}
</div>
